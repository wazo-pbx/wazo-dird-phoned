paths:
  /directories/lookup/{profile}/yealink:
    get:
      summary: Search for contacts with Yealink Phones
      description: |
        The `lookup` query will return a list of result matching the searched term
        formated for Yealink Phones. The result will be retrieved from a lookup query
        to wazo-dird.
      operationId: yealink_lookup
      tags:
      - yealink
      - directories
      produces:
      - text/xml
      responses:
        '200':
          description: A list of contacts
          schema:
            $ref: '#/definitions/YealinkIPPhoneDirectory'
        '400':
          $ref: '#/responses/LimitOffsetInvalid'
        '404':
          $ref: '#/responses/ProfileInvalid'
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
      parameters:
      - $ref: '#/parameters/Profile'
      - $ref: '#/parameters/UserUUID'
      - $ref: '#/parameters/Term'
      - $ref: '#/parameters/Limit'
      - $ref: '#/parameters/Offset'
      - $ref: '#/parameters/AcceptLanguage'
  /yealink/user_service/dnd:
    get:
      summary: Set the DND user service status for a particular user.
      description: |
        The `dnd` service will enable or disable the user DND status through
        `wazo-confd`.
      operationId: yealink_user_service_dnd
      tags:
      - yealink
      - user_service
      produces:
      - text/xml
      responses:
        '200':
          description: The status was changed
        '400':
          description: Provided data is incorrect or a required field is missing
          $ref: '#/responses/InvalidDataError'
        '404':
          $ref: '#/responses/NoSuchUser'
      parameters:
      - $ref: '#/parameters/WazoUserUUID'
      - $ref: '#/parameters/Enabled'
  /yealink/user_service/forward_busy:
    get:
      summary: Set the forward on busy user service for a particular user.
      description: |
        The `forward_busy` service will enable or disable the user forward on
        busy destination and status through `wazo-confd`.
      operationId: yealink_user_service_forward_busy
      tags:
      - yealink
      - user_service
      produces:
      - text/xml
      responses:
        '200':
          description: The status was changed
        '400':
          description: Provided data is incorrect or a required field is missing
        '404':
          $ref: '#/responses/NoSuchUser'
      parameters:
      - $ref: '#/parameters/WazoUserUUID'
      - $ref: '#/parameters/Destination'
      - $ref: '#/parameters/Enabled'
definitions:
  YealinkIPPhoneDirectory:
    properties:
      DirectoryEntry:
        type: array
        items:
          $ref: '#/definitions/YealinkDirectoryEntry'
  YealinkDirectoryEntry:
    properties:
      Name:
        type: string
      Telephone:
        type: string
